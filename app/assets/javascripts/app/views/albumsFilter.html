<div id="albumfilter" class='filter_bar'>
  <p>
    <input type="text" ng-model="$ctrl.search" ng-model-options="{updateOn: 'default blur', debounce: {'default': 500, 'blur': 0}}" placeholder='Search Your Albums'></input>
  </p>

  <p>
    <button ng-click="$ctrl.filterSpins('never')">Show me albums I've never spun</button>
    <button ng-click="$ctrl.filterSpins('most')">Show me my favorite albums</button>

  </p>

</div>

<div ng-show="$ctrl.search">
  <p>Search results: </p>
  <ul ng-repeat='album in $ctrl.data | filter:$ctrl.search '>
    
    <li><a href="" ui-sref="home.album({id: album.album.id})" class="search_results">Artist: {{ album.album.artist.name }} | Album: {{album.album.title}} <span ng-if="album.spins">| Last Listen: {{ album.last_spun | date: 'short' }} | Spins: {{album.spins}}</span> </li>
  </ul>
</div>